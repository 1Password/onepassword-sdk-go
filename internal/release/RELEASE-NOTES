# 1Password Go SDK v0.3.0

## NEW

- **Support for item states**: You can now fetch an item's state using the SDK.`ItemOverview` exposes one of two states: `Active` or `Archived`.
    - `Active`: An item located inside a vault. (Default)
    - `Archived`: An item that has been moved to the Archive. 1Password doesn't include archived items in search results or suggest them when you fill in apps and browsers. You can keep archived items as long as you'd like.
- **Filtering the return of item listing by state**: You can now filter the listed items by item state.

## FIXED

- **Deleting Archived Items:** The SDK now supports deleting items from the archive.

### ⚠️ BREAKING CHANGES ⚠️

This release contains a breaking change for the Go SDK.

`Items().ListAll()` has changed to `Items().List()` and the return type has also changed from `*Iterator` to `[]ItemOverview`. To migrate to the latest SDK version:

Wherever you were using:
```go
overviews, err := client.Items().ListAll(context.Background(), vaultID)
if err != nil {
	panic(err)
}
for {
	overview, err := overviews.Next()
	if errors.Is(err, onepassword.ErrorIteratorDone) {
		break
	} else if err != nil {
		panic(err)
	}
	fmt.Printf("%s %s\n", overview.ID, overview.Title)
}
```

You must now use:

```go
overviews, err := client.Items().List(
	context.Background(),
	vaultID,
	onepassword.NewItemListFilterTypeVariantByState(
		&onepassword.ItemListFilterByStateInner{
			Active:   true,
			Archived: true,
		},
	),
)
if err != nil {
	panic(err)
}

for _, overview := range overviews {
	fmt.Printf("%s %s\n", overview.ID, overview.Title)
}
```
`Vaults().ListAll()` has changed to `Vaults().List()` and the return type has also changed from `*Iterator` to `[]VaultOverview`. To migrate to the latest SDK version:

Wherever you were using:
```go
vaults, err := client.Vaults().ListAll(context.Background())
	if err != nil {
		panic(err)
	}
	for {
		vault, err := vaults.Next()
		if errors.Is(err, onepassword.ErrorIteratorDone) {
			break
		} else if err != nil {
			panic(err)
		}

		fmt.Printf("%s %s\n", vault.ID, vault.Title)
	}
```

You must now use:
```go
vaults, err := client.Vaults().List(context.Background())
	if err != nil {
		panic(err)
}
for _, vault := range vaults{
	fmt.Printf("%s %s\n", vault.ID, vault.Title)
}
```

This does not affect any code that's already deployed, and will not take effect in your codebase until updating to v0.3.0+ of the 1Password Go SDK.
